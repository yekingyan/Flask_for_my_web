{% extends "bootstrap/base.html" %}

{% block meta %}
    {{ super() }}
    <meta charset="UTF-8">
{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

{% endblock %}

{% block html_attribs %} lang="zh"{% endblock %}

{% block styles %}
    {{ super() }}

    <link rel="stylesheet" href="{{ url_for('static',filename='css/navbar.css') }}">
{% endblock %}

{% block title %}
    {% if title %}
        {{ title }} | 烟灰烬
    {% else %}
        烟灰烬
    {% endif %}
{% endblock %}


{% block navbar %}
    <nav class="navbar navbar-expand-md navbar-dark bg-info">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false"
                aria-label="Toggle navigation" style="">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/">烟灰烬</a>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
            <ul class="navbar-nav mr-auto mt-2 mt-md-0">
                <li class="nav-item {% if request.endpoint == 'index' %}active{% endif %}">
                    <a class="nav-link" href="/">主页
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item {% if request.endpoint == 'videos.index' %}active{% endif %}">
                    <a class="nav-link" href={{ url_for('videos.index') }}>视频</a>
                </li>
                <li class="nav-item {% if request.endpoint == 'todo.index' %}active{% endif %}">
                    <a class="nav-link" href={{ url_for("todo.index") }}>Todo</a>
                </li>
                <li class="nav-item {% if request.endpoint == 'message.index' %}active{% endif %}">
                    <a class="nav-link" href={{ url_for('message.index') }}>聊天室</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#!">Google</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#!">文章</a>
                </li>
            </ul>
            <div class="form-inline">
                <ul class="navbar-nav mr-auto mt-2 mt-md-0">

                    {% if not username %}
                        <li class="nav-item">
                            <a id="user" class="btn btn-info" href={{ url_for('user.login') }}>登陆</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn btn-info" href={{ url_for('user.register') }}>注册</a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a id="user" class="btn btn-info font-weight-bold text"
                               href={{ url_for('user.login') }}>{{ username }}</a>
                        </li>
                        <li class="nav-item fa fa-sign-out-alt mr-2">
                            <a class="btn btn-info font-weight-bold text-warning"
                               href={{ url_for('user.logout') }}>登出</a>
                        </li>
                    {% endif %}

                </ul>
                <form class="form-inline my-2 my-lg-0" _lpchecked="1">
                    <input class="form-control mr-sm-2" type="text" placeholder="搜索">
                    <button type="button" class="btn btn-warning" data-container="body" data-toggle="popover"
                            data-placement="bottom" data-content="别点了，没用的" data-original-title="" title="">
                        Go
                    </button>
                </form>
            </div>
        </div>
    </nav>
    {% if get_flashed_messages()[0] %}
        <div class="alert alert-dismissible fade show alert-info" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
            <strong>{{ get_flashed_messages()[0] }}</strong>
        </div>
    {% endif %}
{% endblock %}

{% block content %}

{% endblock %}


